{
"AWSTemplateFormatVersion": "2010-09-09",
    "Description": "",
    "Metadata": {

    },
    "Parameters": {
    
    },
    "Mappings": { 

    },
    "Conditions": {

    },
    "Resources": {
        
        "myCfVpc": {
          "Type": "AWS::EC2::VPC",
          "Properties": {
            "CidrBlock": "10.0.0.0/16",
            "Tags": [{ "Key": "Name", "Value":  "my-vpc" }]
          }
        },

        "myPublicSubnet": {
          "Type": "AWS::EC2::Subnet",
          "Properties": {
            "AvailabilityZone": "ap-southeast-1a",
            "VpcId": {"Ref": "myCfVpc"},
            "CidrBlock": "10.0.0.0/24",
            "Tags": [{ "Key": "Name", "Value":  "my-public -subnet" }]
          }
        },
        
        "myPrivateSubnet-1": {
          "Type": "AWS::EC2::Subnet",
          "Properties": {
            "AvailabilityZone": "ap-southeast-1a",
            "VpcId": {"Ref": "myCfVpc"},
            "CidrBlock": "10.0.1.0/24",
            "Tags": [{ "Key": "Name", "Value":  "my-private-subnet-1" }]
          }
        },

        "myPrivateSubnet-2": {
          "Type": "AWS::EC2::Subnet",
          "Properties": {
            "AvailabilityZone": "ap-southeast-1b",
            "VpcId": {"Ref": "myCfVpc"},
            "CidrBlock": "10.0.2.0/24",
            "Tags": [{ "Key": "Name", "Value":  "my-private-subnet-1" }]
          }
        },
        
        "rdsDBSubnetGroup": {
           "Type": "AWS::RDS::DBSubnetGroup",
           "Properties": {
              "DBSubnetGroupDescription": "This subnet is created for RDS",
              "SubnetIds": [ { "Ref": "myPrivateSubnet-1" }, { "Ref": "myPrivateSubnet-2" }],
              "Tags": [{ "Key": "Name", "Value":  "my-rds-subnet" }]
           }
        },
        
        
        "rdsDBInstance": {
          "Type": "AWS::RDS::DBInstance",
          "Properties": {
            "AllocatedStorage": "20",
            "DBInstanceClass": "db.t2.micro",
            "AllowMajorVersionUpgrade": "true",
            "AutoMinorVersionUpgrade": " false",
            "BackupRetentionPeriod": "7",
            "DBInstanceIdentifier": "myCfRDS",
            "DBName": "my-database", 
            "DBSecurityGroups": [ "" ],
            "DBSubnetGroupName": { "Fn::GetAtt" : [ "rdsDBSubnetGroup", "DBSubnetGroupName" ]},
            "Engine": "MySQL",
            "EngineVersion": "8.0.28",
            "MasterUsername": "user123",
            "MasterUserPassword": "user123",
            "MultiAZ": "true",
            "Port": "3306",
            "PubliclyAccessible": "false",
            "StorageEncrypted": "false",
            "StorageType": "gp2",
            "Tags":[{ "Key": "Name", "Value":  "my-RDS" }]
          }
        }
        

    },
    "Outputs": {

    }
}