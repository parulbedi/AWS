{
  "AWSTemplateFormatVersion": "2010-09-09",
      "Description": "Cloud Fromation in Action",
 
      "Resources": {
          
          "myCfVpc": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
              "CidrBlock": "10.0.0.0/16",
              "Tags": [{ "Key": "Name", "Value":  "my-vpc" }]
            }
          },
  
          "myPublicSubnet": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
              "AvailabilityZone": "ap-southeast-1a",
              "VpcId": {"Ref": "myCfVpc"},
              "CidrBlock": "10.0.0.0/24",
              "Tags": [{ "Key": "Name", "Value":  "my-public-subnet" }]
            }
          },
          
          "myPrivateSubnet": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
              "AvailabilityZone": "ap-southeast-1a",
              "VpcId": {"Ref": "myCfVpc"},
              "CidrBlock": "10.0.1.0/24",
              "Tags": [{ "Key": "Name", "Value":  "my-private-subnet" }]
            }
          },

          
          "rdsDBSubnetGroup": {
             "Type": "AWS::RDS::DBSubnetGroup",
             "Properties": {
                "DBSubnetGroupDescription": "This subnet is created for RDS",
                "DBSubnetGroupName": "rdsDBSubnetGroup",
                "SubnetIds": { "Ref": "myPrivateSubnet" },
                "Tags": [{ "Key": "Name", "Value":  "my-rds-subnet" }]
             }
          },
          
          
          "rdsDBInstance": {
            "Type": "AWS::RDS::DBInstance",
            "Properties": {
              "AllocatedStorage": "20",
              "DBInstanceClass": "db.t2.micro",
              "AllowMajorVersionUpgrade": true,
              "AutoMinorVersionUpgrade": false,
              "BackupRetentionPeriod": "7",
              "DBInstanceIdentifier": "myCfRDS",
              "DBName": "myDatabase", 
              "DBSubnetGroupName": {"Ref": "rdsDBSubnetGroup"},
              "Engine": "MySQL",
              "EngineVersion": "8.0.28",
              "MasterUsername": "user12345",
              "MasterUserPassword": "user12345",
              "MultiAZ": "true",
              "Port": "3306",
              "PubliclyAccessible": "false",
              "StorageEncrypted": "false",
              "StorageType": "gp2",
              "Tags":[{ "Key": "Name", "Value":  "my-RDS" }]
            }
          }
          
  
      },
      "Outputs": {
      }
  }